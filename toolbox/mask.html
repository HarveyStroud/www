
<%-- :mode=jsp: --%>
<c:set var="tool" value="mask"/>

<style>
/* tweak mask on this page */
#maskMask {
	background:url(/img/global/gradient_black.png) repeat-x scroll 0 -300px
}
</style>

<h1 style="background:url(img/hero/mask.jpg) no-repeat -2px 21px">
	jQuery Tools / Mask - Make your HTML elements stand out
</h1>


<h2 class="first">Demo</h2>

<p>
	Start entering text on the input fields below and you'll see the masking effect:
</p>

<%@ include file="../demos/toolbox/mask/form.htm" %>


<a name="story"></a>
<h2>The story</h2>

<p>
	Mask is a JavaScript tool that exposes selected HTML elements on the page so that the surrounding elements will gradually fade out. The mask effect was first introduced in the <a href="overlay/index.html">overlay</a> tool. Usually the effect is an integral part of the program and cannot be used separately. This tool takes the idea of masking a little further. It is a separate tool that can be used as a general purpose mask utility. You can use it for overlays, forms, images, videos or Flash objects. You can use CSS to tweak the look of the mask.
</p>


<a name="usage"></a>
<h3>Usage</h3>

<p>
	Here are some most common ways of using the mask
</p>

<pii:code>
// place a white mask over the page
$(document).mask();

// place a custom colored mask over the page
$(document).mask("#789");

// place a non-closable mask
$(document).mask{ closeOnEsc: false, closeOnClick: false });

// place a mask but let selected elements show trough (expose)
$("div.to_be_exposed").expose();

// close the mask
$.mask.close();
</pii:code>

<p>
	So there are actually two different jQuery plugins: <samp>mask</samp> and <samp>mask</samp>. <samp>$(document).mask()</samp> method is only available for the document object and you cannot make any other selector. The <samp>expose()</samp> method can take any jQuery selector and all elements returned by the selector are placed on top of the mask. 
</p>

<a name="demos"></a>
<h2>Demos</h2>

<p>
	We believe that the best way to learn is through demos. The following demos are fully documented and a standalone page is provided to get mask working on your site. It's really important to <strong>study the first demo</strong> "Minimal setup for mask" because it teaches you the basics of using the library.
</p>

<ul>
	<c:forEach items="${f:getDemo(context.toolDemos2, 'toolbox/mask/index.html').category.demos}" var="demo">
		<li> <a href="../demos/${demo.path}">${demo.title}</a> </li>
	</c:forEach>
</ul>

<h3>Mask and Flowplayer demos</h3>

<p>
	These demos show how to use a video player together with the mask tool:
</p>

<ul>
	<li><a href="/demos/events/mouseover.html">Exposing video upon mouseover</a></li>
	<li><a href="/demos/tools/overlay2.htm">Exposing videos</a></li>
	<li><a href="/demos/tools/fake-fullscreen.html">Custom fullscreen action with overlay and mask</a></li>
	<li><a href="/demos/tools/sharing-overlay/index.html">Email and embed features with overlay and mask</a></li>
</ul>

<a name="graphics"></a>
<c:set var="description">
	<p>
		These graphics are being used as the mask's background image. JPG versions are smaller, but they have a fixed background color. PNG images are larger, but you can use any background color in them. Here is a <a href="demos/mask/styling.html">cool example</a> where the mask's background image has been changed.
	</p>
</c:set>

<%@ include file="../graphics.jsf" %>

<style>
#masks img {
	width:226px;
	border:2px solid #fff;
	outline:1px solid #333;
}
</style>

<div id="masks">
	<img src="../img/mask/thumb/mask_gradient.jpg" />
	<img src="../img/mask/thumb/mask_star.jpg"  />
	<img src="../img/mask/thumb/mask_star.png" />
</div>


<a name="configuration"></a>
<h2>Configuration</h2>

<p>
	Here is a full list of available configuration options:
</p>

<table class="listing">
	<thead>
		<tr>
			<th>property</th>
			<th>default</th>
			<th>description</th>
		</tr>
	</thead>

	<tr>
		<td class="code">color</td>
		<td><code>'#fff'</code></td>
		<td>
			The background color of the mask. This will dramatically affect how it appears. If you supply a value of <samp>null</samp> here, you can control the background color with CSS. See the <samp>maskId</samp> property below for more information.
		</td>
	</tr>
	<tr>
		<td class="code">opacity</td>
		<td><code>0.8</code></td>
		<td>
			The transparency setting of the mask. A decimal value from 0 to 1. A bigger value means less transparency while a value of 0 is fully transparent (invisible).
		</td>
	</tr>
	<tr>
		<td class="code">loadSpeed</td>
		<td><code>'slow'</code></td>
		<td>
			How fast the mask will appear. Possible values are 'slow', 'normal' and 'fast or you can supply this in milliseconds. For example, a value of 2000 will cause the mask to appear in 2 seconds. By setting this to zero there is no animation and the mask appears immediately.
		</td>
	</tr>

	<tr>
		<td class="code">closeSpeed</td>
		<td><code>'fast'</code></td>
		<td>
			How fast the mask disappears. Possible values are 'slow', 'normal' and 'fast or you can supply this in milliseconds. For example, a value of 2000 will cause the mask to disappear in 2 seconds. By setting this to zero there is no animation and the mask disappears immediately.
		</td>
	</tr>

	<tr><td colspan="3" style="background-color:#efefef"></td></tr>

	<tr>
		<td class="code">maskId</td>
		<td><code>'mask'</code></td>
		<td>
			The mask is a normal <samp>div</samp> element placed on top of your page and whose size is automatically adjusted to cover the user's screen completely. You can style it normally with CSS just like any other element on the page. By default, the mask's <samp>id</samp> is set to <samp>mask</samp>, but you can change this with the configuration option.
		</td>
	</tr>
	<tr>
		<td class="code">closeOnClick</td>
		<td><code>true</code></td>
		<td>
			Specifies whether the masking disappears when the mask is clicked. By default, this is set to <samp>true</samp>.
		</td>
	</tr>
	<tr>
		<td class="code">closeOnEsc</td>
		<td><code>true</code></td>
		<td>
			Specifies whether masking disappears when the <samp>ESC</samp> key is pressed from the keyboard. By default, this is set to <samp>true</samp>.
		</td>
	</tr>
	<tr>
		<td class="code">zIndex</td>
		<td><code>9998</code></td>
		<td>
			This is the z-index CSS property for the mask. The <samp>zIndex</samp> specifies the placement of the element along the z-axis of the document. The default <samp>zIndex</samp> value is very high, so it is unlikely that you will need to alter it; however, this value must be greater than the z-index of any other element on the page so that the overlay will always be visible when called.
		</td>
	</tr>

	<tr><td colspan="3" style="background-color:#efefef"><a name="callbacks"></a></td></tr>

	<tr>
		<td class="code">onBeforeLoad</td>
		<td><code></code></td>
		<td>
			This callback function is triggered before the masking effect. Returning <samp>false</samp> or calling <samp>event.preventDefault</samp> in the callback prevents masking from occurring.
		</td>
	</tr>
	<tr>
		<td class="code">onLoad</td>
		<td><code></code></td>
		<td>
			This callback function is triggered after masking takes place.
		</td>
	</tr>
	<tr>
		<td class="code">onBeforeClose</td>
		<td><code></code></td>
		<td>
			This callback function is triggered before mask is closed. Returning <samp>false</samp> or calling <samp>event.preventDefault</samp> in the callback prevents it from closing.
		</td>
	</tr>
	<tr>
		<td class="code">onClose</td>
		<td><code></code></td>
		<td>
			This callback function is triggered when mask is closed.
		</td>
	</tr>
</table>

<p>
	Here is an example of an <samp>onBeforeLoad</samp> callback function given in configuration. Inside any callback function the <samp>this</samp> variable is a pointer to the <a href="#api">mask scripting API</a>.
</p>

<pii:code>
$("#mydiv").expose({

	// before masking begins ...
	onBeforeLoad: function(event) {

		// grow the exposed elements smoothly by 100 pixels
		this.getExposed().animate({width: '+=100'});
	}
});
</pii:code>


<a name="api"></a>
<h2>Scripting <em>API</em></h2>

<p>
	Unlike other tools in this library the mask is a <em>singleton</em>. Only one mask instance can exist simultaneously. This singleton can be accessed directly with <samp>$.mask</samp> or via <samp>this</samp>- variable inside callback functions.
</p>

<h3>Method listing</h3>

<table class="listing">
	<thead>
		<tr>
			<th>method</th>
			<th nowrap>return value</th>
			<th>description/example</th>
		</tr>
	</thead>

	<tr>
		<td class="code">close()</td>
		<td><code>API</code></td>
		<td>
			Closes the mask. 
		</td>
	</tr>
	<tr>
		<td class="code">isLoaded()</td>
		<td><code>boolean</code></td>
		<td>
			Returns <samp>true</samp> if mask is active.
		</td>
	</tr>
	<tr>
		<td class="code">getMask()</td>
		<td><code>jQuery</code></td>
		<td>
			Returns the mask as a jQuery object. You can use jQuery methods such as <samp>css</samp> or <samp>animate</samp> to modify it.
		</td>
	</tr>
	<tr>
		<td class="code">getExposed()</td>
		<td><code>jQuery</code></td>
		<td>
			Returns exposed elements (if any) as a jQuery object.
		</td>
	</tr>
	<tr>
		<td class="code">getConf()</td>
		<td><code>Object</code></td>
		<td>
			Returns the masking configuration.
		</td>
	</tr>

</table>


