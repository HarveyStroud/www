	
<%-- :mode=jsp: --%>
<%@ include file="../../standalone.jsf" %>

<style>
/* root elment for loadables */
#loadables {
	position:relative;
	height:480px;
}

/* loadable elements (DIV & IMG) */
.loadable {
	position:absolute;
	display:block;
	width:500px;
	height:300px;
	background-color:#000;
	border:1px solid #666;
	color:#fff;
}

/* progress indicator */
.progress {
	background-color:#666;
	width:60px;
	font-size:11px;
	text-align:center;
	padding:3px;
}

/* loaded content while its assets are being loaded */
.loading div {
	visibility:hidden;		
}
</style>

<c:set var="html">
<!-- button that triggers loading -->
<p><button id="loadButton">Load assets</button></p>

<!-- container for loadable elements -->
<div id="loadables">

	<!-- background image -->
	<div style="background-image:url(http://farm3.static.flickr.com/2492/3942153630_38e1a62b2d.jpg)"
		class="loadable"></div>

	
	<!-- regular image -->
	<img src="http://farm1.static.flickr.com/7/6481762_3d2c7e79f7.jpg" class="loadable" 
		style="top:40px;left:40px"/>
		
	
	<!-- HTML "page" -->
	<div style="top:80px;left:80px" class="loadable">
		<a href="loaded-content.htm"></a>
	</div>
	
</div>
</c:set>

${html}

<br clear="all" />

<script>
$(function() {
<c:set var="js">
// initialize lazyload for our elements
var api = $("#loadables > *").lazyload({api: true});

// click action for the button
$("#loadButton").click(function() {
		
	// perform loading
	api.load();	
		 
});
</c:set>
${js}
});
</script>

