
<script src="/home/tipiirai/git/jquerytools/test/js/jquery-1.4.2.js"></script>
<script src="/home/tipiirai/git/jquerytools/src/validator/validator.js"></script>

<style>
body {
	padding:50px 100px;
	font-family:sans-serif;
}

label {
	font-size:11px;		
}

label input {
	display:block;	
	margin-bottom:25px;		
}

.error {
	width:220px;
	background-color:#fff500;
	font-size:11px;
	padding:4px;
	border:1px solid #ddd;
}

fieldset {
	float:left;
	width:200px;
	margin-right:15px;
}

.clear {
	clear:both;
	height:1px;
}
</style>

<form id="myform">

	<fieldset>
		<label> email * <input type="email" required="required" minlength="20" /> </label> 
		<label> username * <input type="text" name="username" minlength="5" /> </label> 
		<label> Password <input type="password" name="password" minlength="4" /> </label> 
		<label> Password check <input type="password" name="check" data-equals="password" /> </label>
	</fieldset>	
	
	<fieldset>
		<label> website * <input type="url" required="required" /> </label> 
		<label> name * <input type="text" name="name" required="required" maxlength="30" /> </label>  
		<label> age <input type="number" name="age" size="4" maxlength="3" /> </label> 
		<label> time <input type="time" name="time" maxlength="8" /> </label>
	</fieldset>

	<div class="clear"></div>
	
	<p>
		<button type="submit">Submit form</button>
	</p>
	
</form>
		
<script> 
// define new HTML5 type (note this selector is not working natively on jQuery)
$.tools.validator.fn("[type=time]", "Please supply a valid time", function(el, v) { 
	return /^\d\d:\d\d:\d\d$/.test(v);
});


// generic equals function (backreferences, this)
$.tools.validator.fn("[data-equals]", "Value not equal with the $1 field", function(el) {
	var name = el.attr("data-equals"),
		 field = this.getInputs().filter("[name=" + name + "]"); 
	return el.val() == field.val() ? true : [name]; 
});


// non-standard minlength attribute (messages are given directly for greater control)
$.tools.validator.fn("[minlength]", function(el, value) {
	var min = el.attr("minlength");
	
	return value.length >= min ? true : {     
		en: "Please provide at least " +min+ " character" + (min > 1 ? "s" : ""),
		fi: "Kentän minimipituus on " +min+ " merkkiä" 
	};
});

 
// do some localization
$.tools.validator.localizeFn("[type=time]", {
	en: 'Please supply a valid time',
	fi: 'Virheellinen aika'		
});


// message object again IMAGE

$("#myform").validator( {
	offset: [-12, 0]
});
</script>
